{
  "version": 3,
  "sources": ["../../@shoelace-style/shoelace/dist/chunks/chunk.P22EBAVT.js", "../../@shoelace-style/shoelace/dist/chunks/chunk.RWUUFNUL.js"],
  "sourcesContent": ["import {\n  getTabbableElements\n} from \"./chunk.OSU5LOVZ.js\";\nimport {\n  __yieldStar\n} from \"./chunk.KAW7D32O.js\";\n\n// src/internal/active-elements.ts\nfunction* activeElements(activeElement = document.activeElement) {\n  if (activeElement === null || activeElement === void 0) return;\n  yield activeElement;\n  if (\"shadowRoot\" in activeElement && activeElement.shadowRoot && activeElement.shadowRoot.mode !== \"closed\") {\n    yield* __yieldStar(activeElements(activeElement.shadowRoot.activeElement));\n  }\n}\nfunction getDeepestActiveElement() {\n  return [...activeElements()].pop();\n}\n\n// src/internal/modal.ts\nvar activeModals = [];\nvar Modal = class {\n  constructor(element) {\n    this.tabDirection = \"forward\";\n    this.handleFocusIn = () => {\n      if (!this.isActive()) return;\n      this.checkFocus();\n    };\n    this.handleKeyDown = (event) => {\n      var _a;\n      if (event.key !== \"Tab\" || this.isExternalActivated) return;\n      if (!this.isActive()) return;\n      const currentActiveElement = getDeepestActiveElement();\n      this.previousFocus = currentActiveElement;\n      if (this.previousFocus && this.possiblyHasTabbableChildren(this.previousFocus)) {\n        return;\n      }\n      if (event.shiftKey) {\n        this.tabDirection = \"backward\";\n      } else {\n        this.tabDirection = \"forward\";\n      }\n      const tabbableElements = getTabbableElements(this.element);\n      let currentFocusIndex = tabbableElements.findIndex((el) => el === currentActiveElement);\n      this.previousFocus = this.currentFocus;\n      const addition = this.tabDirection === \"forward\" ? 1 : -1;\n      while (true) {\n        if (currentFocusIndex + addition >= tabbableElements.length) {\n          currentFocusIndex = 0;\n        } else if (currentFocusIndex + addition < 0) {\n          currentFocusIndex = tabbableElements.length - 1;\n        } else {\n          currentFocusIndex += addition;\n        }\n        this.previousFocus = this.currentFocus;\n        const nextFocus = (\n          /** @type {HTMLElement} */\n          tabbableElements[currentFocusIndex]\n        );\n        if (this.tabDirection === \"backward\") {\n          if (this.previousFocus && this.possiblyHasTabbableChildren(this.previousFocus)) {\n            return;\n          }\n        }\n        if (nextFocus && this.possiblyHasTabbableChildren(nextFocus)) {\n          return;\n        }\n        event.preventDefault();\n        this.currentFocus = nextFocus;\n        (_a = this.currentFocus) == null ? void 0 : _a.focus({ preventScroll: false });\n        const allActiveElements = [...activeElements()];\n        if (allActiveElements.includes(this.currentFocus) || !allActiveElements.includes(this.previousFocus)) {\n          break;\n        }\n      }\n      setTimeout(() => this.checkFocus());\n    };\n    this.handleKeyUp = () => {\n      this.tabDirection = \"forward\";\n    };\n    this.element = element;\n    this.elementsWithTabbableControls = [\"iframe\"];\n  }\n  /** Activates focus trapping. */\n  activate() {\n    activeModals.push(this.element);\n    document.addEventListener(\"focusin\", this.handleFocusIn);\n    document.addEventListener(\"keydown\", this.handleKeyDown);\n    document.addEventListener(\"keyup\", this.handleKeyUp);\n  }\n  /** Deactivates focus trapping. */\n  deactivate() {\n    activeModals = activeModals.filter((modal) => modal !== this.element);\n    this.currentFocus = null;\n    document.removeEventListener(\"focusin\", this.handleFocusIn);\n    document.removeEventListener(\"keydown\", this.handleKeyDown);\n    document.removeEventListener(\"keyup\", this.handleKeyUp);\n  }\n  /** Determines if this modal element is currently active or not. */\n  isActive() {\n    return activeModals[activeModals.length - 1] === this.element;\n  }\n  /** Activates external modal behavior and temporarily disables focus trapping. */\n  activateExternal() {\n    this.isExternalActivated = true;\n  }\n  /** Deactivates external modal behavior and re-enables focus trapping. */\n  deactivateExternal() {\n    this.isExternalActivated = false;\n  }\n  checkFocus() {\n    if (this.isActive() && !this.isExternalActivated) {\n      const tabbableElements = getTabbableElements(this.element);\n      if (!this.element.matches(\":focus-within\")) {\n        const start = tabbableElements[0];\n        const end = tabbableElements[tabbableElements.length - 1];\n        const target = this.tabDirection === \"forward\" ? start : end;\n        if (typeof (target == null ? void 0 : target.focus) === \"function\") {\n          this.currentFocus = target;\n          target.focus({ preventScroll: false });\n        }\n      }\n    }\n  }\n  possiblyHasTabbableChildren(element) {\n    return this.elementsWithTabbableControls.includes(element.tagName.toLowerCase()) || element.hasAttribute(\"controls\");\n  }\n};\n\nexport {\n  Modal\n};\n", "// src/internal/offset.ts\nfunction getOffset(element, parent) {\n  return {\n    top: Math.round(element.getBoundingClientRect().top - parent.getBoundingClientRect().top),\n    left: Math.round(element.getBoundingClientRect().left - parent.getBoundingClientRect().left)\n  };\n}\n\n// src/internal/scroll.ts\nvar locks = /* @__PURE__ */ new Set();\nfunction getScrollbarWidth() {\n  const documentWidth = document.documentElement.clientWidth;\n  return Math.abs(window.innerWidth - documentWidth);\n}\nfunction getExistingBodyPadding() {\n  const padding = Number(getComputedStyle(document.body).paddingRight.replace(/px/, \"\"));\n  if (isNaN(padding) || !padding) {\n    return 0;\n  }\n  return padding;\n}\nfunction lockBodyScrolling(lockingEl) {\n  locks.add(lockingEl);\n  if (!document.documentElement.classList.contains(\"sl-scroll-lock\")) {\n    const scrollbarWidth = getScrollbarWidth() + getExistingBodyPadding();\n    let scrollbarGutterProperty = getComputedStyle(document.documentElement).scrollbarGutter;\n    if (!scrollbarGutterProperty || scrollbarGutterProperty === \"auto\") {\n      scrollbarGutterProperty = \"stable\";\n    }\n    if (scrollbarWidth < 2) {\n      scrollbarGutterProperty = \"\";\n    }\n    document.documentElement.style.setProperty(\"--sl-scroll-lock-gutter\", scrollbarGutterProperty);\n    document.documentElement.classList.add(\"sl-scroll-lock\");\n    document.documentElement.style.setProperty(\"--sl-scroll-lock-size\", `${scrollbarWidth}px`);\n  }\n}\nfunction unlockBodyScrolling(lockingEl) {\n  locks.delete(lockingEl);\n  if (locks.size === 0) {\n    document.documentElement.classList.remove(\"sl-scroll-lock\");\n    document.documentElement.style.removeProperty(\"--sl-scroll-lock-size\");\n  }\n}\nfunction scrollIntoView(element, container, direction = \"vertical\", behavior = \"smooth\") {\n  const offset = getOffset(element, container);\n  const offsetTop = offset.top + container.scrollTop;\n  const offsetLeft = offset.left + container.scrollLeft;\n  const minX = container.scrollLeft;\n  const maxX = container.scrollLeft + container.offsetWidth;\n  const minY = container.scrollTop;\n  const maxY = container.scrollTop + container.offsetHeight;\n  if (direction === \"horizontal\" || direction === \"both\") {\n    if (offsetLeft < minX) {\n      container.scrollTo({ left: offsetLeft, behavior });\n    } else if (offsetLeft + element.clientWidth > maxX) {\n      container.scrollTo({ left: offsetLeft - container.offsetWidth + element.clientWidth, behavior });\n    }\n  }\n  if (direction === \"vertical\" || direction === \"both\") {\n    if (offsetTop < minY) {\n      container.scrollTo({ top: offsetTop, behavior });\n    } else if (offsetTop + element.clientHeight > maxY) {\n      container.scrollTo({ top: offsetTop - container.offsetHeight + element.clientHeight, behavior });\n    }\n  }\n}\n\nexport {\n  lockBodyScrolling,\n  unlockBodyScrolling,\n  scrollIntoView\n};\n"],
  "mappings": "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",
  "names": []
}
